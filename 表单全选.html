<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			table{
				margin:100px auto;
				text-align: center;
			}
			th,td{
				border:1px solid gray;
				width: 150px;
				height: 50px;
			}
			thead{
				color:white;
				background-color: skyblue;
			}
			
		</style>
	</head>
	<body>
		<table cellspacing="0">
			<thead>
				<tr>
					<th><input type="checkbox"></th>
					<th>商品</th>
					<th>价钱</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input type="checkbox"></td>
					<td>iPhone8</td>
					<td>8000</td>
				</tr>
				<tr>
					<td><input type="checkbox"></td>
					<td>iPad Pro</td>
					<td>5000</td>
				</tr>
				<tr>
					<td><input type="checkbox"></td>
					<td>iPad Air</td>
					<td>2000</td>
				</tr>
				<tr>
					<td><input type="checkbox"></td>
					<td>Apple Watch</td>
					<td>2000</td>
				</tr>
			</tbody>
		</table>
		
		<script>
			var box=document.querySelector('thead').querySelector('input');
			var box1=document.querySelector('tbody').querySelectorAll('input');
			box.onclick=function(){
					for(var i=0;i<box1.length;i++)
					{
						box1[i].checked=box.checked;
					}
			}
			for(var i=0;i<box1.length;i++)
			{
				box1[i].onclick=function(){               //必定要在注册事件中进行操作
					var ctn=0;
					for(var i=0;i<box1.length;i++)
					{
						if(box1[i].checked==true)
						{
							ctn++;
						}
					}
					if(ctn==4)
					{
						box.checked=true;
					}
					else
					{
						box.checked=false;
					}
				}
			}
			
		</script>
	</body>
</html>
